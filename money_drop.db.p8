pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
	x=63
	y=100
	camt=0	--amount of coins
	score=0	--touch coin get score
	coins={}
	i_coins()
end


function _update()
	if btn(➡️) then
		x+=2
	elseif btn(⬅️) then
		x-=2
	end
	
	--blocks--
	if x<0 then
		x=0
	elseif x>120 then
		x=120
	end
	
	u_coins()
end


function _draw()
	cls()
	map(1)
	spr(1,x,y)
	d_coins()
	print(score)
end


function i_coins()
	for i=1,5 do
		add(coins,{
			cx=rnd(120),
			cy=-8,
			--spdx=1-rnd(2),
			spdy=rnd(2),
			--life=500
		})
	end
end

function u_coins()
	for c in all(coins) do
		--c.cx+=c.spdx
		c.cy+=c.spdy
		--c.life-=1
		
		if abs(x-c.cx)<4 and abs(y-c.cy)<4 then
			del(coins,c)
			score+=1
			camt+=1
			if (camt%3)==0 then
				i_coins()
			end
		end
		
		if c.cy>128 then
			del(coins,c)
		end
	end
end


function d_coins()
	for c in all(coins) do
		spr(2,c.cx,c.cy)
	end
end
__gfx__
000000000999999000000000cccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000009442422900aaaa00cccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700299999920a9999a0ccc7cccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000222424420a99a9a0cc777c7ccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000222424420a9a99a0c7777777cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700222444420a9999a0cccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000002224244200aaaa00cccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000222222000000000cccccccccccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0404040404040404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0403040404040404040404030404040404030404040404040304040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040403040404040403040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040304040404040304040404040404040403040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040304040304040404040404040403040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0304040404030404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040403040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040403040404030404040404030404040404030404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404040404040404040304040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0403040404040404040404040404040404040404040404040404040304040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404030404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040404040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
